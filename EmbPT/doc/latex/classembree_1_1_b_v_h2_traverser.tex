\hypertarget{classembree_1_1_b_v_h2_traverser}{
\section{embree::BVH2Traverser Class Reference}
\label{classembree_1_1_b_v_h2_traverser}\index{embree::BVH2Traverser@{embree::BVH2Traverser}}
}


\hyperlink{classembree_1_1_b_v_h2}{BVH2} Traverser.  




{\ttfamily \#include $<$bvh2\_\-traverser.h$>$}

Inheritance diagram for embree::BVH2Traverser:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classembree_1_1_b_v_h2_traverser}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classembree_1_1_b_v_h2_traverser_a56525e51ec4429392131e3b2c3d7608e}{BVH2Traverser} (const Ref$<$ \hyperlink{classembree_1_1_b_v_h2}{BVH2}$<$ \hyperlink{structembree_1_1_triangle4}{Triangle4} $>$ $>$ \&bvh)
\begin{DoxyCompactList}\small\item\em Constructs the traverser from a BVH. \item\end{DoxyCompactList}\item 
void \hyperlink{classembree_1_1_b_v_h2_traverser_aa3957f20e8dc2f86ca98d4f8671b503a}{intersect} (const \hyperlink{structembree_1_1_ray}{Ray} \&ray, \hyperlink{structembree_1_1_hit}{Hit} \&hit) const 
\begin{DoxyCompactList}\small\item\em Intersects the ray with the geometry and returns the hit information. \item\end{DoxyCompactList}\item 
bool \hyperlink{classembree_1_1_b_v_h2_traverser_a6602c3460d258d2dee9e91c622568548}{occluded} (const \hyperlink{structembree_1_1_ray}{Ray} \&ray) const 
\begin{DoxyCompactList}\small\item\em Tests the ray for occlusion with the scene. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classembree_1_1_b_v_h2}{BVH2} Traverser. Single ray traversal implementation for a binary BVH. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classembree_1_1_b_v_h2_traverser_a56525e51ec4429392131e3b2c3d7608e}{
\index{embree::BVH2Traverser@{embree::BVH2Traverser}!BVH2Traverser@{BVH2Traverser}}
\index{BVH2Traverser@{BVH2Traverser}!embree::BVH2Traverser@{embree::BVH2Traverser}}
\subsubsection[{BVH2Traverser}]{\setlength{\rightskip}{0pt plus 5cm}embree::BVH2Traverser::BVH2Traverser (
\begin{DoxyParamCaption}
\item[{const Ref$<$ {\bf BVH2}$<$ {\bf Triangle4} $>$ $>$ \&}]{bvh}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classembree_1_1_b_v_h2_traverser_a56525e51ec4429392131e3b2c3d7608e}


Constructs the traverser from a BVH. 



\subsection{Member Function Documentation}
\hypertarget{classembree_1_1_b_v_h2_traverser_aa3957f20e8dc2f86ca98d4f8671b503a}{
\index{embree::BVH2Traverser@{embree::BVH2Traverser}!intersect@{intersect}}
\index{intersect@{intersect}!embree::BVH2Traverser@{embree::BVH2Traverser}}
\subsubsection[{intersect}]{\setlength{\rightskip}{0pt plus 5cm}home venceslas Recherche Project GlobIll EmbPT rtcore bvh2 bvh2\_\-traverser cpp void embree::BVH2Traverser::intersect (
\begin{DoxyParamCaption}
\item[{const {\bf Ray} \&}]{ray, }
\item[{{\bf Hit} \&}]{hit}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classembree_1_1_b_v_h2_traverser_aa3957f20e8dc2f86ca98d4f8671b503a}


Intersects the ray with the geometry and returns the hit information. 



stack state

$<$ current stack pointer

$<$ stack of nodes that still need to get traversed

$<$ distance of nodes on the stack

$<$ in cur we track the ID of the current node

precomputed shuffles, to switch lower and upper bounds depending on ray direction

load the ray into SIMD registers

downtraversal loop

single ray intersection with box of both children.

if two children hit, push far node onto stack and continue with closer node

if one child hit, continue with that child

leaf node, intersect all triangles

pop next node from stack 



Implements \hyperlink{classembree_1_1_intersector_ae488adb126f9e7f48ca45e4e776a2926}{embree::Intersector}.

\hypertarget{classembree_1_1_b_v_h2_traverser_a6602c3460d258d2dee9e91c622568548}{
\index{embree::BVH2Traverser@{embree::BVH2Traverser}!occluded@{occluded}}
\index{occluded@{occluded}!embree::BVH2Traverser@{embree::BVH2Traverser}}
\subsubsection[{occluded}]{\setlength{\rightskip}{0pt plus 5cm}bool embree::BVH2Traverser::occluded (
\begin{DoxyParamCaption}
\item[{const {\bf Ray} \&}]{ray}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classembree_1_1_b_v_h2_traverser_a6602c3460d258d2dee9e91c622568548}


Tests the ray for occlusion with the scene. 



stack state

$<$ current stack pointer

$<$ stack of nodes that still need to get traversed

$<$ in cur we track the ID of the current node

precomputed shuffles, to switch lower and upper bounds depending on ray direction

load the ray into SIMD registers

this is an inner node

Single ray intersection with box of both children. See \hyperlink{bvh2_8h_source}{bvh2.h} for node layout.

if two children hit, push far node onto stack and continue with closer node

if one child hit, continue with that child

leaf node, intersect all triangles

pop next node from stack 



Implements \hyperlink{classembree_1_1_intersector_a47cf036c3eab7060590c72e7bb51255c}{embree::Intersector}.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
rtcore/bvh2/bvh2\_\-traverser.h\item 
rtcore/bvh2/bvh2\_\-traverser.cpp\end{DoxyCompactItemize}
