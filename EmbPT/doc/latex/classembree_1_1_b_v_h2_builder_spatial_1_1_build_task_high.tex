\hypertarget{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high}{
\section{embree::BVH2BuilderSpatial::BuildTaskHigh Class Reference}
\label{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high}\index{embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}}
}


Single-\/threaded breadth-\/first build task.  




{\ttfamily \#include $<$bvh2\_\-builder\_\-spatial.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_a07b27aa14434e0463b91691b336451bd}{BuildTaskHigh} (\hyperlink{classembree_1_1_b_v_h2_builder_spatial}{BVH2BuilderSpatial} $\ast$parent, size\_\-t primBegin, size\_\-t primEnd, size\_\-t jobBegin, size\_\-t jobEnd, size\_\-t numJobs)
\begin{DoxyCompactList}\small\item\em Default task construction. \item\end{DoxyCompactList}\item 
void \hyperlink{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_ab0a9e4ac89521be9f67bf37cfecbb8ee}{build} ()
\begin{DoxyCompactList}\small\item\em Recursively finishes the BVH construction. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_a1fc882d47f68a11ba1f84f4ab04d01c5}{run} (size\_\-t tid, \hyperlink{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high}{BuildTaskHigh} $\ast$This, size\_\-t elts)
\begin{DoxyCompactList}\small\item\em Task entry function. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Single-\/threaded breadth-\/first build task. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_a07b27aa14434e0463b91691b336451bd}{
\index{embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}!BuildTaskHigh@{BuildTaskHigh}}
\index{BuildTaskHigh@{BuildTaskHigh}!embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}}
\subsubsection[{BuildTaskHigh}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-forceinline embree::BVH2BuilderSpatial::BuildTaskHigh::BuildTaskHigh (
\begin{DoxyParamCaption}
\item[{{\bf BVH2BuilderSpatial} $\ast$}]{parent, }
\item[{size\_\-t}]{primBegin, }
\item[{size\_\-t}]{primEnd, }
\item[{size\_\-t}]{jobBegin, }
\item[{size\_\-t}]{jobEnd, }
\item[{size\_\-t}]{numJobs}
\end{DoxyParamCaption}
)}}
\label{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_a07b27aa14434e0463b91691b336451bd}


Default task construction. 



\subsection{Member Function Documentation}
\hypertarget{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_ab0a9e4ac89521be9f67bf37cfecbb8ee}{
\index{embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}!build@{build}}
\index{build@{build}!embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}}
\subsubsection[{build}]{\setlength{\rightskip}{0pt plus 5cm}void embree::BVH2BuilderSpatial::BuildTaskHigh::build (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_ab0a9e4ac89521be9f67bf37cfecbb8ee}


Recursively finishes the BVH construction. 



counts number of generated triangles

continue until no jobs are left

process each split job

compute leaf and split cost

make leaf node when threshold reached or SAH tells us

get destination for left and right sub-\/job

perform split

create an inner node

Check if we can give jobs to other threads. We enter only when we just moved from left-\/to-\/right, thus we have to copy from right-\/to-\/left for allocating space to the subtasks.

copy job to the left

create subtask if enough primitives collected

distribute remaining free space

create sub-\/task

$<$ we finish 

\hypertarget{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_a1fc882d47f68a11ba1f84f4ab04d01c5}{
\index{embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}!run@{run}}
\index{run@{run}!embree::BVH2BuilderSpatial::BuildTaskHigh@{embree::BVH2BuilderSpatial::BuildTaskHigh}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}void embree::BVH2BuilderSpatial::BuildTaskHigh::run (
\begin{DoxyParamCaption}
\item[{size\_\-t}]{tid, }
\item[{{\bf BuildTaskHigh} $\ast$}]{This, }
\item[{size\_\-t}]{elts}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classembree_1_1_b_v_h2_builder_spatial_1_1_build_task_high_a1fc882d47f68a11ba1f84f4ab04d01c5}


Task entry function. 



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
rtcore/bvh2/bvh2\_\-builder\_\-spatial.h\item 
rtcore/bvh2/bvh2\_\-builder\_\-spatial.cpp\end{DoxyCompactItemize}
